<!DOCTYPE html>
<html id="html" lang="en">
	<head>
		<title>csvhorse</title>
		<link rel="icon" type="image/png" href="/favicon-48x48.png" sizes="48x48" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
		<meta name="apple-mobile-web-app-title" content="csvhorse" />
		<link rel="manifest" href="/site.webmanifest" />

		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Karla:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Sono:wght@200..800&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="css/appearance.css">
		<link rel="stylesheet" href="css/editor.css">
		<link rel="stylesheet" href="css/tray.css">
		<meta charset="utf-8">
	</head>
	<body>
		<header>
			<img src="csvhorse.png" alt="csvhorse logo">
			<h1>csvhorse</h1>
			<div class="toolbar">
				<a title="Reset csvhorse" href="javascript:" onclick="ui.clearAll()">Reset</a>
				<a title="See an example" href="javascript:" onclick="ui.example()">Example</a>
				<a title="Toggle dark mode" class="button invert" href="javascript:" onclick="ui.dark()"><span class="dark">Dark</span><span class="light">Light</span> Mode</a>
				<a title="Open the help" href="javascript:" onclick="ui.help()" class="button">Help</a>
			</div>
		</header>
		<main>
			<section id="ui" class="normal">
				<div class="pane" id="input">
					<div id="recipe">
						<strong id="label-recipe">Recipe</strong>
						<a title="Run the recipe" id="run-button" href="javascript:" onclick="recipe.execute()" class="button">Run <small>(&#8984;+Enter)</small></a>
						<a title="Toggle text wrapping in the Recipe pane" id="rec-wrap-button" href="javascript:" onclick="ui.wrap('rec')" class="button">Wrap</a>
						<textarea id="rec" class="mono" aria-labelledby="label-recipe" placeholder="Type the recipe here using one directive on each line"></textarea>
					</div>
					<div id="variables" class="vars-small">
						<strong id="label-variables">Variables</strong>
						<div class="toolbar">
							<a id="vars-large-button" title="Make the variables panel large" class="button invert" href="javascript:" onclick="ui.vars('vars-large')">Large</a>
							<a id="vars-small-button" title="Make the variables small" class="button invert" href="javascript:" onclick="ui.vars('vars-small')">Small</a>
						</div>
						<textarea id="vars" class="mono" aria-labelledby="label-variables" placeholder="Variables in the form 'key=value'"></textarea>
					</div>
				</div>
				<div class="gripper" id="gripper" onmousedown="ui.dragStart(event);"><span>&vellip;</span></div>
				<div class="pane" id="output">
					<strong id="label-output">Output CSV</strong>
					<a title="Toggle text wrapping in the Output pane"id="out-wrap-button" href="javascript:" onclick="ui.wrap('out')" class="button">Wrap</a>
					<textarea id="out" class="mono" aria-labelledby="label-output" placeholder="The generated CSV will appear here"></textarea>
					<div class="scrollpane hidden" id="info"></div>
					<ul id="log"></ul>
				</div>
			</section>
			<section id="lightbox" onclick="ui.help()">
			</section>
			<section id="tray">
				<div class="tabs">
					<ul id="_tray-ul">
						<li id="tab-about" class="selected"><a href="javascript:" onclick="ui.tab('_tray','about')">About</a></li>
						<li id="tab-directives"><a href="javascript:" onclick="ui.tab('_tray','directives')">Directives</a></li>
						<li id="tab-columns"><a href="javascript:" onclick="ui.tab('_tray','columns')">Columns &amp; Variables</a></li>
						<li id="tab-patterns"><a href="javascript:" onclick="ui.tab('_tray','patterns')">Patterns</a></li>
						<li id="tab-functions"><a href="javascript:" onclick="ui.tab('_tray','functions')">Functions</a></li>
					</ul>
					<div class="toolbar">
						<a title="Close this tray" href="javascript:" onclick="ui.help()">&times; Close</a>
					</div>
				</div>
					<div id="_tray">
						<div id="_tray-directives" class="hidden generated">
							<p>
								Directives control aspects of the CSV file's appearance or format, but not its content. Each directive is a single command entered on its own line. Directives can be omitted entirely and the default CSV behaviour will be used: 10 rows, as many columns as you define, no header, etc.
							</p>
							<div id="help-directives"></div>
						</div>
						<div id="_tray-columns" class="hidden">
							<p>Any line of text in the recipe is treated as a column definition unless it corresponds with any of the following exclusions &hellip;</p>
							<ul>
								<li>Lines that are directives</li>
								<li>Blank or empty lines</li>
								<li>Lines starting with <span class="mono">//</span> which are treated as comments</li>
							</ul>
							<p>
								The simplest column definition is a string, for instance a line reading <span class="mono">hello world</span> will cause this string to be used as the value for a column on every row of the output. The left-most column is defined first when reading the recipe from top-to-bottom.
							</p>
							<h2>Variables</h2>
							<p>
								Variables are declared in the variables pane and can be reused as often as is needed.
							</p>
							<p>
								Declare a variable by typing <span class="mono">key = value</span> in the variables pane. Use a variable by including <span class="mono">$key</span> in the recipe to see <span class="mono">value</span> in the CSV output.
							</p>
						</div>
						<div id="_tray-patterns" class="hidden">
							<p>
								CSVs created using only strings and variables will be quite boring since all the rows will be the same. Patterns are one way of introducing randomised or dynamic content, particularly concerned with strings such as serial or telephone numbers, codes strings, vehicle registrations, and so on.
							</p>
							<h2>Using patterns</h2>
							<p>
								Patterns are declared in the variables pane in the normal fashion.
							</p>
							<p>
								<span class="mono">foo = {111}-{AAA*}</span>
							</p>
							<p>
								To include the output of a pattern in a column of the CSV, invoke it with %. Invoking a pattern with $ will do so as if it were a variable and will simply reproduce its definition.
							</p>
							<p>
								<span class="mono">%foo</span>
							</p>
							<p>
								When invoked with %, the pattern text is included verbatim but &hellip;
								<ul>
									<li>any 1 character appearing between a { and a } will be replaced with a random digit.</li>
									<li>any A character appearing between a { and a } will be replaced with a random uppercase letter.</li>
									<li>any * character appearing between a { and a } will be replaced with a random digit or uppercase letter.</li>
								</ul>
								Thus, the example <span class="mono">foo</span> above might become any of the following in the output &hellip;
								<ul>
									<li><span class="mono">123-ABC1</span></li>
									<li><span class="mono">443-QRTX</span></li>
									<li><span class="mono">263-BHCH</span></li>
									<li><span class="mono">881-LIM9</span></li>
								</ul>
							</p>
						</div>
						<div id="_tray-functions" class="hidden generated">
							<p>
								Functions add specialised random content to a column. They are preceded with an @ symbol and accept parameters delimited by ( and ). Functions can be called from column definitions directly or used in variable values.
							</p>
							<div id="help-functions"></div>
						</div>
						<div id="_tray-about">
							<img src="csvhorse.png" alt="cvshorse logo">
							<h1>csvhorse</h1>
							<span class="version"></span><br>
							<p>
								<strong>csvhorse</strong> generates CSV files from simple recipes typed in the left-hand pane. CSV output appears on the right when the recipe is run. There is support for variables and functions for counting, random numbers, Lorem Ipsum, dates, and more &hellip;
							</p>							
							<p>
								<a title="See an example" href="javascript:" onclick="ui.help();ui.example()">See an example</a>
							</p>
							<hr>
							<p>
								Officially on the web at <a title="csvhorse web site" href="https://csvhorse.mcglashan.net/">csvhorse.mcglashan.net</a>
							</p>
							<p>
								All the source code on github at 
								<a title="Source code on github.com" href="https://github.com/davidmcglashan/csvhorse">github.com/davidmcglashan/csvhorse</a> (<a title="Creative Commons license details" href="https://creativecommons.org/publicdomain/zero/1.0/">CC0 1.0 Universal</a>)
							</p>
							<p>
								<a href="https://www.flaticon.com/free-icons/horse" title="horse icons">Horse icons created by Freepik - Flaticon</a>
							</p>
						</div>
					</div>
				</div>
			</section>
		</main>
		<footer>
			<strong class="version"></strong> | &copy; <span class="year"></span> <a href="https://david.mcglashan.net/">David McGlashan</a>
		</footer>
	</body>
	<script type="text/javascript" src="js/ui.js"></script>
	<script type="text/javascript" src="js/recipe.js"></script>
	<script type="text/javascript" src="js/funcs.js"></script>
	<script type="text/javascript" src="js/directives.js"></script>
	<script type="text/javascript" src="js/random.js"></script>
	<script type="text/javascript">
		ui.init()
	</script>
</html>